<nav
  class="fixed z-10 top-0 h-16 w-full bg-primary-800 px-4 py-2 flex flex-row justify-between gap-4 text-center sm:p-5"
>
  <button class="flex items-center ml-4 sm:hidden" (click)="onToggleNavbar()">
    <ng-icon color="white" name="bootstrapList" size="36"></ng-icon>
  </button>
  <div
    class="fixed z-50 p-9 left-0 top-0 h-screen bg-primary-800 gap-10 flex flex-col sm:h-auto sm:w-full sm:flex-row sm:static sm:p-0"
    [ngClass]="{
      'w-0 p-0': navbarIsHidden,
      'w-screen transition-all': !navbarIsHidden
    }"
  >
    <button
      class="self-end text-5xl text-white hover:opacity-70 mr-2 sm:hidden"
      [ngClass]="{ hidden: navbarIsHidden }"
      (click)="onToggleNavbar()"
    >
      &times;
    </button>
    <ul
      class="flex flex-col gap-10 sm:flex sm:flex-row"
      [ngClass]="{ hidden: navbarIsHidden }"
    >
      <li>
        <a
          class="nav-link"
          [routerLink]="['/inicio']"
          routerLinkActive="opacity-70"
          >In√≠cio</a
        >
      </li>
      <li>
        <a
          class="nav-link"
          [routerLink]="['/planos']"
          routerLinkActive="opacity-70 after:hidden"
          >Planos</a
        >
      </li>
      <li *ngIf="userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/dashboard']"
          routerLinkActive="opacity-70 after:hidden"
          [routerLinkActiveOptions]="{ exact: true }"
          >Dashboard</a
        >
      </li>
      <li *ngIf="userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/dashboard/metas']"
          routerLinkActive="opacity-70 after:hidden"
          >Metas</a
        >
      </li>
      <li *ngIf="userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/dashboard/receitas']"
          routerLinkActive="opacity-70 after:hidden"
          >Receitas</a
        >
      </li>
      <li *ngIf="userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/dashboard/despesas']"
          routerLinkActive="opacity-70 after:hidden"
          >Despesas</a
        >
      </li>
    </ul>
    <ul
      class="flex flex-col mt-auto gap-10 sm:ml-auto sm:flex sm:flex-row sm:mt-0"
      [ngClass]="{ hidden: navbarIsHidden }"
    >
      <li *ngIf="!userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/auth', 'login']"
          routerLinkActive="opacity-70 after:hidden"
          [routerLinkActiveOptions]="{ exact: true }"
          >Login</a
        >
      </li>
      <li *ngIf="!userIsLoggedIn">
        <a
          class="nav-link"
          [routerLink]="['/auth', 'cadastro']"
          routerLinkActive="opacity-70 after:hidden"
          [routerLinkActiveOptions]="{ exact: true }"
          >Cadastro</a
        >
      </li>
    </ul>
  </div>
  <div
    class="group text-white relative flex flex-col items-center justify-center"
  >
    <button
      class="flex flex-row items-center gap-2 cursor-pointer opacity-90 focus:opacity-100 hover:opacity-100"
    >
      <ng-icon class="text-white" name="bootstrapSunFill" size="28"></ng-icon>
      <ng-icon
        class="text-white"
        name="bootstrapCaretDownFill"
        size="12"
      ></ng-icon>
    </button>
    <div
      class="flex flex-col gap-1 bg-gray-700 p-1 rounded float-left absolute top-9 right-0 invisible dark:bg-gray-700 hover:visible group-focus-within:visible"
    >
      <div
        class="flex flex-row items-center rounded gap-3 w-28 px-2 py-1 cursor-pointer hover:bg-primary-800 bg-opacity-5"
        [ngClass]="{ 'bg-opacity-100 bg-primary-800': theme === 'light' }"
        (click)="onSetTheme('light')"
      >
        <ng-icon class="text-white" name="bootstrapSunFill" size="16"></ng-icon>
        <p
          class="text-sm"
          [ngClass]="{
            'text-white': theme === 'light',
            'text-gray-400': theme !== 'light'
          }"
        >
          Claro
        </p>
      </div>
      <div
        class="flex flex-row items-center rounded gap-3 w-28 px-2 py-1 cursor-pointer hover:bg-primary-800 bg-opacity-5"
        [ngClass]="{ 'bg-opacity-100 bg-primary-800': theme === 'dark' }"
        (click)="onSetTheme('dark')"
      >
        <ng-icon
          class="text-white"
          name="bootstrapMoonFill"
          size="16"
        ></ng-icon>
        <p
          class="text-sm"
          [ngClass]="{
            'text-white': theme === 'dark',
            'text-gray-400': theme !== 'dark'
          }"
        >
          Escuro
        </p>
      </div>
      <div
        class="flex flex-row items-center rounded gap-3 w-28 px-2 py-1 cursor-pointer hover:bg-primary-800 bg-opacity-5"
        [ngClass]="{ 'bg-opacity-100 bg-primary-800': theme === 'system' }"
        (click)="onSetTheme('system')"
      >
        <ng-icon
          class="text-white"
          name="bootstrapLaptopFill"
          size="16"
        ></ng-icon>
        <p
          class="text-sm"
          [ngClass]="{
            'text-white': theme === 'system',
            'text-gray-400': theme !== 'system'
          }"
        >
          Sistema
        </p>
      </div>
    </div>
  </div>
</nav>
